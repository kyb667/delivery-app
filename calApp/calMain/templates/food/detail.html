{% extends "../base.html" %}
{% load static %}
{% load mathfilters %}
{% block foodgallery %}

<div class="content"> 
    <!-- ################################################################################################ -->
    <h1>{{ foodname }}</h1>
    <img class="imgr borderedbox inspace-5" src="{{ fooddetail.foodimage }}" alt="">
    <a id="likeit" name="likeit" data-id="{{ foodid }}">like it</a> <span id="lovenum"> {{ fooddetail.foodlove }} </span>&nbsp;&nbsp;&nbsp;<a>hate it <span> 1 </span> </a>
    <br/>
    <p>Aliquatjusto quisque nam consequat doloreet vest orna partur scetur portortis nam. Metadipiscing eget facilis elit sagittis felisi eger id justo maurisus convallicitur.</p>
    <p>Dapiensociis <a href="#">temper donec auctortortis cumsan</a> et curabitur condis lorem loborttis leo. Ipsumcommodo libero nunc at in velis tincidunt pellentum tincidunt vel lorem.</p>
    <br/>
    <h1>food details</h1>
    <div class="scrollable">
      <table>
        <tbody>
            {% for k, v in foodinfo.items %}
            <tr>
                <td>{{ k }}</td>
                <td>{{ v }}</td>
            </tr>
            {% endfor %}
        </tbody>
      </table>
    </div>
    <br/>
    <div id="comments">
      {% if newCommentList %}
      <h2>댓글창</h2>
      {% endif %}
      {% if popularList %}
      <h4>best</h4>
      <ul id="">
        {% for v in popularList %}
        <li>
          <article>
            <header>
              <figure class="avatar"><a class="up_comment_love" id='up_comment_love_{{ v.id }}' data-id="{{ v.id }}" > {{ v.commentlove }} </a></figure>
              <figure class="avatar"><a class="up_comment_hate" id='up_comment_hate_{{ v.id }}' data-id="{{ v.id }}" > {{ v.commenthate }} </a></figure>
              <address> By <a href="#"> {{ v.writer_id }} </a>
              </address>
              <span><time>{{ v.writingtime }}</time></span>
            </header>
            <div class="comcont">
              <p>{{ v.comment }}</p>
            </div>
          </article>
        </li>
        {% endfor %}
      </ul>
      {% endif %}
      {% if newCommentList %}
      <h4>new</h4>
      <ul id="show_comments">
        {% for v in newCommentList %}
        <li>
          <article>
            <header>
              <figure class="avatar"><a class="up_comment_love" id='up_comment_love_{{ v.id }}' data-id="{{ v.id }}" > {{ v.commentlove }} </a></figure>
              <figure class="avatar"><a class="up_comment_hate" id='up_comment_hate_{{ v.id }}' data-id="{{ v.id }}" > {{ v.commenthate }} </a></figure>
              <address> By <a href="#"> {{ v.writer_id }} </a>
              </address>
              <span><time>{{ v.writingtime }}</time></span>
            </header>
            <div class="comcont">
              <p>{{ v.comment }}</p>
              <p>{{ v.id }}</p>
            </div>
          </article>
        </li>
        {% endfor %}
      </ul>
      <!-- TODO 댓글 전체보기 -->
      {% endif %}
      {% if request.session.name %}
      <h2>Write A Comment</h2>
      <form method="post">
        {% csrf_token %}
        <div class="block clear">
          <label for="contents">contents <span>*</span></label>
          <textarea name="contents" id="contents" cols="25" rows="2"></textarea>
        </div>
        <div>
          <input type="button" name="comment_submit" id="comment_submit" value="Submit Form" data-id="{{ foodid }}" data-name="{{ request.session.name }}">
        </div>
      </form>
    </div>
    {% endif %}
    <!-- ################################################################################################ -->
  </div>
  <div id="gallery">
    {% if foodList %}
    <figure>
      <header class="heading">Gallery Title Goes Here</header>
      <ul class="nospace clear">
        {% for i in foodList %}
        <li class="one_quarter {% if forloop.counter|mod:4 == 1 %}first{% endif %}">
          <a href="{% url 'fooddetail' i.id %}"><img src="../../static/calMain/images/our-blog/img-{{i.id}}.jpg" alt=""></a>
        <div><a href="{% url 'fooddetail' foodnum=i.id %}">{{ i.foodname }}</a></div></li>
        {% endfor %}
      </ul>
    </figure>
    {% endif %}
  </div>
  <div class="clear"></div>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
  <script src="{% static 'maxisonix/ajax/food.js' %}"></script>
{% endblock %}